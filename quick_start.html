
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Quick start &mdash; Vbench performance benchmarks for scikit-learn</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.12-git',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Vbench performance benchmarks for scikit-learn" href="index.html" />

  <!-- Reference the theme's stylesheet on the Google CDN -->
  <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/themes/excite-bike/jquery-ui.css"
        type="text/css" rel="Stylesheet" />
 
  <!-- Reference jQuery and jQuery UI from the CDN. Remember
       that the order of these two elements is important -->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js"></script>

<script type="text/javascript">
      $(function(){
        $(".profiler-output").accordion({collapsible: true, header: "p", active: false} );
      });
    </script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22606712-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body>

    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="http://scikit-learn.org/">
            <img src="_static/scikit-learn-logo-small.png" alt="Logo"/>
          </a>
          </p><div class="navbar">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="#">Speed Quick Start</a></li>
            <li><a href="http://scikit-learn.org/dev/user_guide.html">User's Guide</a></li>
            <li><a href="http://scikit-learn.org/dev/developers/performance.html">Performance</a></li>
            <li><a href="http://github.com/scikit-learn/scikit-learn">Github</a></li>
            <li><a href="http://github.com/vene/scikit-learn-speed">Speed Github</a></li>
       </ul>
</div>
<!-- end navbar --></div>
    </div>

    <div class="content-wrapper">

      <div class="sphinxsidebar">
	<div class="sphinxsidebarwrapper">
          <h3>Table Of Contents</h3>
          
          <!--
	   <div class="rel rellarge">
	     
	<!-- rellinks[1:] is an ugly hack to avoid link to module
	    index  --
	<!-- Ad a link to the 'up' page --
    </div>
    <p style="text-align: center; background-color: #FFE4E4">This documentation is
    for scikit-learn <strong>version 0.12-git</strong>
    &mdash; <a href="http://scikit-learn.org/stable/support.html#documentation-resources">Other versions</a></p>
    
    <h3>Citing</h3>
    <p>If you use the software, please consider
    <a href="about.html#citing-scikit-learn">citing scikit-learn</a>.</p>
    <h3>This page</h3>
	<ul>
<li><a class="reference internal" href="#">Quick start</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#running-the-benchmarks">Running the benchmarks</a></li>
<li><a class="reference internal" href="#generating-the-documentation">Generating the documentation</a></li>
</ul>
</li>
</ul>

    
  -->
    </div>
	  </div>


      <div class="content">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="quick-start">
<h1>Quick start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h1>
<p>Scikit-learn-speed is a continuous benchmarking suite that accompanies the
<a class="reference external" href="http://www.scikit-learn.org/">scikit-learn</a> project. It is built on top of
<a class="reference external" href="http://wesmckinney.com/blog/?p=373">vbench</a>.</p>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>In order to run the benchmarks, you must have the following packages installed:</p>
<blockquote>
<div><ul class="simple">
<li>The development version of vbench from <a class="reference external" href="https://github.com/vene/vbench/tree/abstract_multistep_benchmarks">Vlad&#8217;s repository</a>.</li>
<li><a class="reference external" href="http://numpy.scipy.org/">Numpy</a>, <a class="reference external" href="http://scipy.org/">Scipy</a></li>
</ul>
</div></blockquote>
<p>Vbench itself requires:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://git-scm.com/">git</a> (it should be in the path, old versions might fail)</li>
<li><a class="reference external" href="http://pandas.pydata.org/">Pandas</a> (and its dependencies)</li>
<li><a class="reference external" href="http://www.sqlalchemy.org/">sqlalchemy</a></li>
<li><a class="reference external" href="http://pypi.python.org/pypi/memory_profiler">memory_profiler</a> (optional, for memory usage benchmarking)</li>
<li><a class="reference external" href="http://packages.python.org/line_profiler">line_profiler</a> (optional, for line profiling)</li>
</ul>
</div></blockquote>
<p>For building the web pages (that you are looking at right now), you
additionally need:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://sphinx.pocoo.org/">Sphinx</a></li>
<li><a class="reference external" href="http://matplotlib.sourceforge.net/">Matplotlib</a></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Just fetch the latest code from the <a class="reference external" href="https://github.com/vene/scikit-learn-speed/">Github repository</a>.</p>
</div>
<div class="section" id="running-the-benchmarks">
<h2>Running the benchmarks<a class="headerlink" href="#running-the-benchmarks" title="Permalink to this headline">¶</a></h2>
<p>In order to run the benchmarks on your own machine, you need to:</p>
<ol class="arabic">
<li><p class="first">Clone the repository somewhere, for example <tt class="docutils literal"><span class="pre">~/code/scikit-learn-speed</span></tt></p>
</li>
<li><p class="first">Extract the datasets:</p>
<div class="highlight-python"><pre>cd ~/code/scikit-learn-speed/benchmarks
tar jxvf data.tar.bz2</pre>
</div>
</li>
<li><p class="first">Create the configuration file <tt class="docutils literal"><span class="pre">~/.vbench-skl</span></tt>. For example:</p>
<div class="highlight-python"><pre>[setup]
repo_path = /Users/vene/code/scikit-learn
repo_url = git@github.com:scikit-learn/scikit-learn.git
db_path = /Users/vene/code/scikit-learn-speed/benchmarks/benchmarks.db
tmp_dir = /tmp/vb_sklearn</pre>
</div>
</li>
</ol>
<p>The values displayed above are hardcoded defaults, and they are used in case
the configuration value doesn&#8217;t exist, or to override skipped values.
Specifically, this means you don&#8217;t have to bother to set <tt class="docutils literal"><span class="pre">repo_url</span></tt> and
<tt class="docutils literal"><span class="pre">tmp_dir</span></tt>.</p>
<ol class="arabic simple" start="4">
<li>From the <tt class="docutils literal"><span class="pre">scikit-learn-speed</span></tt> folder, run <tt class="docutils literal"><span class="pre">make</span></tt>. This will call:</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">make</span> <span class="pre">run</span></tt>, which runs the benchmark suite,</li>
<li><tt class="docutils literal"><span class="pre">make</span> <span class="pre">rst</span></tt>, which generates the Sphinx sources for the reports,</li>
<li><tt class="docutils literal"><span class="pre">make</span> <span class="pre">html</span></tt>, which builds the HTML reports from the sources.</li>
</ul>
</div></blockquote>
<p>For more details about other <tt class="docutils literal"><span class="pre">make</span></tt> options, type <tt class="docutils literal"><span class="pre">make</span> <span class="pre">help</span></tt>. At the
moment, the <tt class="docutils literal"><span class="pre">quick</span></tt> flag is passed by default, which means it only runs the
<tt class="docutils literal"><span class="pre">linear_model</span></tt> benchmarks, as a test that everything works OK. Another flag
is <tt class="docutils literal"><span class="pre">historical</span></tt>, which makes vbench go behind in time and run the suite on
more releases, but this takes a long time. To pass this kinds of flags, just
set the <tt class="docutils literal"><span class="pre">SKL_SPEED_ARGS</span></tt> environment variable. For example:</p>
<div class="highlight-python"><pre>SKL_SPEED_ARGS='quick historical' make</pre>
</div>
<p>The result of <tt class="docutils literal"><span class="pre">make</span> <span class="pre">run</span></tt> is a file called <tt class="docutils literal"><span class="pre">benchmarks.db</span></tt> in the
<tt class="docutils literal"><span class="pre">benchmarks</span></tt> folder (or wherever you pointed the <tt class="docutils literal"><span class="pre">db_path</span></tt> setting to).
You can look inside this file using <tt class="docutils literal"><span class="pre">sqlite3</span></tt> or better, by instanciating a
<tt class="docutils literal"><span class="pre">vbench.db.BenchmarksDB</span></tt> object, like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">vbench.db</span> <span class="kn">import</span> <span class="n">BenchmarkDB</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">db</span> <span class="o">=</span> <span class="n">BenchmarkDB</span><span class="p">(</span><span class="s">&#39;benchmarks/benchmarks.db&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">db</span><span class="o">.</span><span class="n">get_benchmarks</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
                                                                           <span class="n">name</span> <span class="n">description</span>
<span class="n">checksum</span>
<span class="mi">0</span><span class="n">ff90bcf3a75abe21cede6ede6674aba</span>               <span class="n">LinearRegression</span><span class="o">-</span><span class="n">minimadelon</span><span class="o">-</span><span class="n">fit</span>        <span class="bp">None</span>
<span class="mi">1</span><span class="n">b296252fc235e4b6d1559013263074e</span>           <span class="n">LinearRegression</span><span class="o">-</span><span class="n">minimadelon</span><span class="o">-</span><span class="n">predict</span>        <span class="bp">None</span>
<span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">db</span><span class="o">.</span><span class="n">get_benchmark_results</span><span class="p">(</span><span class="s">&#39;0ff90bcf3a75abe21cede6ede6674aba&#39;</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span>
                    <span class="n">revision</span> <span class="n">ncalls</span>    <span class="n">timing</span>  <span class="n">timing_min</span>  <span class="n">timing_max</span>  <span class="n">timing_mean</span>  <span class="n">timing_median</span>  <span class="n">timing_std</span>                                          <span class="n">profile</span>    <span class="n">memory</span> <span class="n">traceback</span>
<span class="n">timestamp</span>
<span class="mi">2012</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">23</span> <span class="mi">14</span><span class="p">:</span><span class="mo">07</span><span class="p">:</span><span class="mi">14</span>  <span class="mi">6</span><span class="n">aaf15f</span>   <span class="bp">None</span>  <span class="mf">0.003620</span>    <span class="mf">0.001490</span>    <span class="mf">0.001876</span>     <span class="mf">0.001627</span>       <span class="mf">0.001515</span>    <span class="mf">0.000176</span>           <span class="mi">78</span> <span class="n">function</span> <span class="n">calls</span> <span class="ow">in</span> <span class="mf">0.004</span> <span class="n">seconds</span>   <span class="n">O</span>  <span class="mf">0.121094</span>      <span class="bp">None</span>
<span class="mi">2012</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">24</span> <span class="mi">12</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">11</span>  <span class="n">af2602e</span>   <span class="bp">None</span>  <span class="mf">0.002806</span>    <span class="mf">0.001489</span>    <span class="mf">0.001892</span>     <span class="mf">0.001670</span>       <span class="mf">0.001630</span>    <span class="mf">0.000167</span>           <span class="mi">78</span> <span class="n">function</span> <span class="n">calls</span> <span class="ow">in</span> <span class="mf">0.003</span> <span class="n">seconds</span>   <span class="n">O</span>  <span class="mf">0.121094</span>      <span class="bp">None</span>
</pre></div>
</div>
</div>
<div class="section" id="generating-the-documentation">
<h2>Generating the documentation<a class="headerlink" href="#generating-the-documentation" title="Permalink to this headline">¶</a></h2>
<p>To only generate the HTML files from the database, navigate to the
<tt class="docutils literal"><span class="pre">scikit-learn-speed</span></tt> folder and execute:</p>
<div class="highlight-python"><pre>make rst   # this generates the Sphinx sources
make html  # this builds the HTML reports</pre>
</div>
<p>You can view the results by opening
<tt class="docutils literal"><span class="pre">scikit-learn-speed/benchmarks/build/html/index.html</span></tt> in your favourite
internet browser. An internet connection is recommended, because JQuery and
JQueryUI are loaded from Google&#8217;s CDN.</p>
</div>
</div>


          </div>
        </div>
      </div>

        <div class="clearer"></div>
      </div>
    </div>
  

    <div class="footer">
        &copy; .
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2b1. Design by <a href="http://desgrana.es">Desgrana</a>.
    <span style="padding-left: 5ex;">
    <a href="_sources/quick_start.txt"
	    rel="nofollow">Show this page source</a>
    </span>
    </div>
     <div class="rel rellarge">
    
    
     </div>
     <script type="text/javascript">
       $("div.buttonNext, div.buttonPrevious").hover(
           function () {
               $(this).css('background-color', '#FF9C34');
           },
           function () {
               $(this).css('background-color', '#A7D6E2');
           }
       );
     </script>
  </body>
</html>